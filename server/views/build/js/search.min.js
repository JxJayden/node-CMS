!function(){({bindEvent:function(){$(".tab-item").click(function(e){if($(this).hasClass("item-select"))return!1;$(this).parent().children().removeClass("item-select"),$(this).addClass("item-select"),"product"===$(this).data("type")?($("#product").removeClass("hidden"),$("#explore").addClass("hidden")):($("#product").addClass("hidden"),$("#explore").removeClass("hidden"))}),$(".card-more").click(function(e){e.preventDefault(),$(this).parent().next().removeClass("card-cover-hide")}),$(".card-des").click(function(e){e.preventDefault()}),$(".card-close-cover").click(function(e){e.preventDefault(),$(this).parent().parent().addClass("card-cover-hide")}),$(".card-img-more").each(function(){var e=[];$(this).children("a").each(function(){e.push({src:$(this).attr("href")})}),$(this).magnificPopup({items:e,type:"image",closeBtnInside:!1,fixedContentPos:!0,gallery:{enabled:!0}})})},setStar:function(){var e=store.get("quote");if(e&&e.product){var t=e.product;$(".card-star").each(function(){~t.indexOf($(this).data("id"))&&($(this).parent().children("#star-off").addClass("card-star-hide"),$(this).parent().children("#star-on").removeClass("card-star-hide"))})}},search:function(){var e=window.location.search,t=this;$.get("/api/search"+e,function(a){if(a.productList.length>0||a.articleList.length>0){var i=a,n=e.replace("&language=en","");n=n.replace("?keywords=",""),i.keywords=decodeURI(n),i.articleLength=i.articleList.length,i.productLength=i.productList.length;for(var c=0;c<i.articleList.length;c++){var r=i.articleList[c].content.indexOf(n);~r&&(i.articleList[c].content=i.articleList[c].content.replace(i.keywords,"<b>"+i.keywords+"</b>"),i.articleList[c].content=i.articleList[c].content.slice(Math.max(0,r-50),r+50))}~e.indexOf("language=en")?i.chinese=!1:i.chinese=!0,t.templateSearch(i)}else t.templateSearch()})},templateSearch:function(e){var t=null,a=this,i=window.location.search;e?(e.isNull=!1,t=template("search-template",e)):t=~i.indexOf("language=en")?template("search-template",{isNull:!0,chinese:!1}):template("search-template",{isNull:!0,chinese:!0}),$("#search-content").html(t),a.bindEvent(),a.setStar()},init:function(){this.search()}}).init()}();